{% extends "base.html" %}

{% block title %}CallBunker Signup{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="text-center mb-4">
                <h1 class="text-white">
                    <i class="fas fa-users me-2 text-success"></i>
                    Join CallBunker
                </h1>
                <p class="lead text-warning fw-bold mb-2">
                    The last line of defense against spam calls
                </p>
                <p class="text-white-50">
                    Get started now
                </p>
            </div>



            <!-- Signup Form -->
            <div class="card border-primary" style="background: rgba(13, 110, 253, 0.1);">
                <div class="card-body">
                    <h4 class="card-title text-primary mb-4">
                        <i class="fas fa-user-plus me-2"></i>Create Your Account
                    </h4>

                    <form method="POST" class="needs-validation" novalidate>
                        <!-- Personal Information -->
                        <div class="mb-3">
                            <label for="name" class="form-label text-white">Full Name</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                            <div class="form-text text-white-50">
                                Your name for account identification
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label text-white">Email Address</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                            <div class="form-text text-white-50">
                                For account management and notifications
                            </div>
                        </div>

                        <!-- Phone Numbers -->
                        <div class="mb-3">
                            <label for="google_voice_number" class="form-label text-white">Your Google Voice Number</label>
                            <div class="input-group">
                                <input type="tel" class="form-control" id="google_voice_number" name="google_voice_number" 
                                       placeholder="(555) 123-4567" required>
                                <a href="https://voice.google.com" target="_blank" class="btn btn-outline-info" title="Get Google Voice Number">
                                    <i class="fas fa-external-link-alt"></i> Get Number
                                </a>
                            </div>
                            <div class="form-text text-white-50">
                                The Google Voice number callers will dial. <a href="https://voice.google.com" target="_blank" class="text-warning">Don't have one? Get it free at voice.google.com</a>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="real_phone_number" class="form-label text-white">Your Real Phone Number</label>
                            <input type="tel" class="form-control" id="real_phone_number" name="real_phone_number" 
                                   placeholder="(555) 987-6543" required>
                            <div class="form-text text-white-50">
                                Where screened calls should be forwarded
                            </div>
                        </div>

                        <!-- Authentication Settings -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="pin" class="form-label text-white">4-Digit PIN</label>
                                <input type="text" class="form-control" id="pin" name="pin" 
                                       value="1122" maxlength="4" pattern="[0-9]{4}" required>
                                <div class="form-text text-white-50">
                                    Callers enter this on keypad
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="verbal_code" class="form-label text-white">Verbal Code</label>
                                <input type="text" class="form-control" id="verbal_code" name="verbal_code" 
                                       value="open sesame" required>
                                <div class="form-text text-white-50">
                                    Callers can say this instead
                                </div>
                            </div>
                        </div>

                        <!-- Submit -->
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary btn-lg" {% if available_numbers == 0 %}disabled{% endif %}>
                                <i class="fas fa-rocket me-2"></i>
                                {% if available_numbers > 0 %}
                                Create My CallBunker Account
                                {% else %}
                                Join Waiting List
                                {% endif %}
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- How It Works -->
            <div class="card border-info mt-4" style="background: rgba(23, 162, 184, 0.1);">
                <div class="card-body">
                    <h5 class="card-title text-info">
                        <i class="fas fa-info-circle me-2"></i>How CallBunker Works
                    </h5>
                    <div class="row">
                        <div class="col-md-3 text-center mb-3">
                            <i class="fas fa-user-plus fa-2x text-success mb-2"></i>
                            <h6 class="text-white">1. Sign Up</h6>
                            <small class="text-white-50">Get your dedicated CallBunker number</small>
                        </div>
                        <div class="col-md-3 text-center mb-3">
                            <i class="fas fa-phone fa-2x text-primary mb-2"></i>
                            <h6 class="text-white">2. Configure Google Voice</h6>
                            <small class="text-white-50">Forward to your CallBunker number</small>
                            <div class="mt-2">
                                <a href="https://voice.google.com" target="_blank" class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-cog me-1"></i>Setup Now
                                </a>
                            </div>
                        </div>
                        <div class="col-md-3 text-center mb-3">
                            <i class="fas fa-shield-alt fa-2x text-warning mb-2"></i>
                            <h6 class="text-white">3. Calls Get Screened</h6>
                            <small class="text-white-50">Your PIN/verbal authentication</small>
                        </div>
                        <div class="col-md-3 text-center mb-3">
                            <i class="fas fa-check-circle fa-2x text-info mb-2"></i>
                            <h6 class="text-white">4. You Get Calls</h6>
                            <small class="text-white-50">Only verified callers reach you</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Form validation
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();
</script>
{% endblock %}